# List Reduction

## Important Note

If you have already checked out the repo before 10/13 8PM, you need to rerun `git pull` to make sure everything is up to date.

To submit your code, you need to run `rai -p ./MP5 --submit MP5`. To check your submission history, run `rai history -p ./MP5` (last 20 enties) or `rai l-history -p ./MP5` (last 100 enties). 

## Objective

Implement a kernel and associated host code that performs reduction of a 1D list stored in a C array. The reduction should give the sum of the list. You should implement the improved kernel discussed in the lecture. Your kernel should be able to handle input lists of arbitrary length.

## Prerequisites

Before starting this lab, make sure that:

* You have understand lecture 15.

## Instruction

For simplicity, you can assume that the input list will contain at most 2048 x 65535 elements so that it can be handled by only one kernel launch. The boundary condition can be handled by filling ‘identity value (0 for sum)’ into the shared memory of the last block when the length is not a multiple of the thread block size. Write a host (CPU) loop to calculate the total of the reduction sums of each section generated by individual blocks.

Edit the code in the ‘Code’ tab to perform the following:

* allocate device memory
* copy host memory to device
* initialize thread block and kernel grid dimensions
* invoke CUDA kernel
* copy results from device to host
* deallocate device memory
* implement the improved reduction kernel
* use shared memory to reduce the number of global accesses, handle the boundary conditions when loading input list elements into the shared memory
* implement a CPU loop to perform final reduction based on the sums of sections generated by the thread blocks after copying the partial sum array back to the host memory

Instructions about where to place each part of the code is demarcated by the //@@ comment lines.
